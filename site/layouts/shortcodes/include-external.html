{{ $filePath := .Page.Params.externalSource.filePath }}
{{ $branch := .Page.Params.externalSource.branch }}
{{ $repository := .Page.Params.externalSource.repository }}

{{ $url := printf "https://raw.githubusercontent.com/%s/%s/%s" $repository $branch $filePath }}

{{ with try (resources.GetRemote $url) }}
{{ if eq .Value nil }}
{{ errorf "Unable to get remote resource %q" $url }}
{{ end }}
{{ with .Err }}
{{ errorf "%s" . }}
{{ else with .Value }}
{{ $content := .Content | safeHTML }}
{{ $content }}
{{ end }}
{{ else }}
{{ errorf "Unable to get remote resource %q" $url }}
{{ end }}